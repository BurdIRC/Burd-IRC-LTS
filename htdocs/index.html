<html>
    <head>
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;1,300;1,400;1,600;1,700;1,800&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100;0,300;0,500;1,700&display=swap" rel="stylesheet">
        <link href="css/menu.css" rel="stylesheet">
		<link href="main.css" rel="stylesheet">
        
        <link id="theme" href="themes/default.css" rel="stylesheet">

        <link rel="icon" href="/icons/icon.ico">
        <link rel="apple-touch-icon" href="/icons/512.png">
        <link rel="manifest" href="/manifest.json">
        
        <title>BurdIRC</title>
        
        <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
        
        <script src="js/jquery.min.js"></script>
        <script src="js/main.js"></script>
        <script src="js/key_events.js"></script>
        <script src="js/click_events.js"></script>
        <script src="js/enum.js"></script>
        <script src="js/burd.js"></script>
        <script src="js/gui.js"></script>
        <script src="js/input_parse.js"></script>
        <script src="js/emojipattern.js"></script>
        <script src="js/ignore.js"></script>
        <script src="js/usercommands.js"></script>

        <script>if (window.module) module = window.module;</script>

        <style>

        </style>
        <script>
            const isElectron = function() {
                // Renderer process
                if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {
                    return true;
                }

                // Main process
                if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {
                    return true;
                }

                // Detect the user agent when the `nodeIntegration` option is set to true
                if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {
                    return true;
                }

                return false;
            }
        
        
            const jq = document.createElement('script');
            if(isElectron()){
                jq.src = "js/control_server_electron.js";
            }else{
                jq.src = "js/control_server.js";
            }
            $("head")[0].appendChild(jq);

        </script>
    </head>
    <body>
        <div id="banners">
        </div>
        <div id="loader">
            &nbsp;
        </div>
        <iframe id="fram" src="about:blank"></iframe>
        <div id="miniframe">
            <iframe id="mini" src="about:blank"></iframe>
        </div>
        <div id="app">
            <div id="menubar">
                <div class="appicon" id="nav-collapse" style="bottom: 70px;background-size:20px;">&nbsp;</div>
                <div class="appicon" id="add-network" style="bottom: 40px">&nbsp;</div>
                <div class="appicon" id="app-settings">&nbsp;</div>
            </div>
            <div id="emoji-selector">
                <div id="emoji-top">
                    <input type="text" id="esearch" value="" placeholder="duck">
                    <div class="close">&nbsp;</div>
                </div>
                <div id="emoji-content">
                    
                </div>
            </div>
            <div id="nav-pane">
            
                <!--
                <div class="network">
                    <div class="net-title nav-item">Libera</div>
                    <div class="channels">
                        <div class="channel nav-item selected-item">
                            <div class="user-status">&nbsp;</div>
                            <div class="item-name">##test</div>
                            <div class="item-count">21</div>
                            <div class="item-menu">&nbsp;</div>
                            <div class="clear">&nbsp;</div>
                        </div>
                        <div class="channel nav-item away">
                            <div class="user-status">&nbsp;</div>
                            <div class="item-name">##test2</div>
                            <div class="item-count">21</div>
                            <div class="item-menu">&nbsp;</div>
                            <div class="clear">&nbsp;</div>
                        </div>
                    </div>
                    <div class="pms">
                        <div class="channel nav-item">
                            <div class="user-status">&nbsp;</div>
                            <div class="item-name">bob</div>
                            <div class="item-count">21</div>
                            <div class="item-menu">&nbsp;</div>
                            <div class="clear">&nbsp;</div>
                        </div>
                    </div>
                </div>
                -->
            </div>
            
            <div id="chan" class="">
                <div id="users">
                    <div id="user-count"></div>
                    <div id="userlist">
                        <!--
                        <div class="user">
                            <div class="user-status">&nbsp;</div>
                            <div class="luser">DecafMegalodongg</div>
                            <div class="lflags">@+</div>
                            <div class="clear">&nbsp;</div>
                        </div>
                        <div class="user user-idle">
                            <div class="user-status">&nbsp;</div>
                            <div class="luser">duckgoose</div>
                            <div class="lflags">@+</div>
                            <div class="clear">&nbsp;</div>
                        </div>
                        -->
                    </div>
                </div>
                <div id="chat">
                    <div id="channel-meta">
                        <div id="channel-name"></div>
                        <div id="channel-topic"></div>
                    </div>
                    <div id="chat-area" tabindex=0>

                    </div>
                    <div id="chat-input">
                        <div id="my-nick"></div>
                        <div id="input-area">
                            <input id="input" type="text" autocomplete="off">
                            <div id="emoji">&nbsp;</div>
                            <div id="upload">&nbsp;</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <input type="file" id="file" name="file">
        
        <template id="nav-network">
                <div class="network" cid="_cid_">
                    <div class="net-title nav-item" type="console" cid="_cid_">
                        <span class="netname">_netname_</span>
                        <div class="item-count" num="0">0</div>
                        <div class="item-menu">&nbsp;</div>
                    </div>
                    <div class="channels" cid="_cid_">
                    </div>
                    <div class="pms" cid="_cid_">
                    </div>
                </div>
        </template>        
        
        <template id="nav-channel">
                <div class="channel nav-item" cid="_cid_" name="_ename_" type="_type_">
                    <div class="user-status">&nbsp;</div>
                    <div class="item-name">_name_</div>
                    <div class="item-count" num="0">0</div>
                    <div class="item-menu">&nbsp;</div>
                    <div class="clear">&nbsp;</div>
                </div>
        </template>     
        
        <template id="list-user">
                <div class="user _state_" nick="_ename_">
                    <div class="user-status">&nbsp;</div>
                    <div class="luser" style="color:_color_">_name_</div>
                    <div class="lflags">_flags_</div>
                    <div class="clear">&nbsp;</div>
                </div>
        </template>      
        
        <template id="chat-msg">
                <div class="chat-message _emojic_ _highlight_" nick="_ename_">
                    <div class="userinfo messageuser" style="color:_color_"><span class="bracket">&lt;</span>_name_<span class="bracket">&gt;&nbsp;</span></div>
                    <div class="message">_message_</div>
                    <div class="messagedate">_date_</div>
                    <div class="clear">&nbsp;</div>
                </div>
        </template> 
        
        <template id="chat-media">
                <div class="chat-message" nick="_ename_">
                    <div class="userinfo messageuser" style="color:_color_">_name_</div>
                    <img src="https://controller.wtf/image.php?url=_media_&width=400" class="inline-media" alt="loading..." onload="emojiLoaded();">
                    <div class="messagedate">_date_</div>
                    <div class="clear">&nbsp;</div>
                </div>
        </template> 
        
        <template id="general-info">
                <div class="chat-message chat-info _classes_">
                    <div class="userinfo">&nbsp;</div>
                    <div class="message">_message_</div>
                    <div class="messagedate">_date_</div>
                    <div class="clear">&nbsp;</div>
                </div>
        </template>   
        
        <template id="whois">
                <div class="chat-message chat-info whois-info _classes_">
                    <div class="userinfo">&nbsp;</div>
                    <div class="message">_message_</div>
                    <div class="messagedate">_date_</div>
                    <div class="clear">&nbsp;</div>
                </div>
        </template>   
        
        <template id="action-message">
                <div class="chat-message chat-info info-action _highlight_" nick="_ename_">
                    <div class="userinfo">&nbsp;</div>
                    <div class="message">* <b>_name_</b> _message_ *</div>
                    <div class="messagedate">_date_</div>
                    <div class="clear">&nbsp;</div>
                </div>
        </template>      
        
        <template id="rpl-message">
                <div class="chat-message">
                    <div class="userinfo">_rpl_</div>
                    <div class="message">_message_</div>
                    <div class="messagedate">_date_</div>
                    <div class="clear">&nbsp;</div>
                </div>
        </template>   

        <audio id="audioe">
            <source src="sounds/appointed-529.ogg" type="audio/mpeg">
        </audio>
        
    </body>
</html>